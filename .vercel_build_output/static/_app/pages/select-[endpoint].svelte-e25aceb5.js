import{S as t,i as n,s as e,j as s,m as a,o,x as r,u as c,v as l,L as i,_ as u,e as f,t as h,k as m,c as d,a as p,g as $,d as g,n as v,b as y,f as x,E as k,U as j,h as w,l as b,Z as _,O as B}from"../chunks/vendor-ba6e0429.js";import{p as N}from"../chunks/stores-1c755569.js";import{B as C}from"../chunks/Box-53f6f880.js";import{r as E,d as A,o as L,c as O}from"../chunks/_stores-027b8861.js";function P(t,n,e){const s=t.slice();return s[11]=n[e],s}function R(t){let n;function e(t,n){return t[1].name?U:S}let s=e(t),a=s(t);return{c(){a.c(),n=b()},l(t){a.l(t),n=b()},m(t,e){a.m(t,e),x(t,n,e)},p(t,o){s===(s=e(t))&&a?a.p(t,o):(a.d(1),a=s(t),a&&(a.c(),a.m(n.parentNode,n)))},d(t){a.d(t),t&&g(n)}}}function S(t){let n;return{c(){n=h("type a location to search")},l(t){n=$(t,"type a location to search")},m(t,e){x(t,n,e)},p:B,d(t){t&&g(n)}}}function U(t){let n,e,s,a=t[1].name+"";return{c(){n=h('"'),e=h(a),s=h('" not found')},l(t){n=$(t,'"'),e=$(t,a),s=$(t,'" not found')},m(t,a){x(t,n,a),x(t,e,a),x(t,s,a)},p(t,n){2&n&&a!==(a=t[1].name+"")&&w(e,a)},d(t){t&&g(n),t&&g(e),t&&g(s)}}}function Z(t){let n,e,s,a,o,r,c=t[11].name+"";function l(){return t[6](t[11])}return{c(){n=f("a"),e=h(c),s=m(),a=f("br"),this.h()},l(t){n=d(t,"A",{href:!0,class:!0});var o=p(n);e=$(o,c),o.forEach(g),s=v(t),a=d(t,"BR",{}),this.h()},h(){y(n,"href","/suggested-routes"),y(n,"class","svelte-uk08vh")},m(t,c){x(t,n,c),k(n,e),x(t,s,c),x(t,a,c),o||(r=j(n,"click",l),o=!0)},p(n,s){t=n,1&s&&c!==(c=t[11].name+"")&&w(e,c)},d(t){t&&g(n),t&&g(s),t&&g(a),o=!1,r()}}}function q(t){let n,e=t[0],s=[];for(let o=0;o<e.length;o+=1)s[o]=Z(P(t,e,o));let a=null;return e.length||(a=R(t)),{c(){for(let t=0;t<s.length;t+=1)s[t].c();n=b(),a&&a.c()},l(t){for(let n=0;n<s.length;n+=1)s[n].l(t);n=b(),a&&a.l(t)},m(t,e){for(let n=0;n<s.length;n+=1)s[n].m(t,e);x(t,n,e),a&&a.m(t,e)},p(t,o){if(3&o){let r;for(e=t[0],r=0;r<e.length;r+=1){const a=P(t,e,r);s[r]?s[r].p(a,o):(s[r]=Z(a),s[r].c(),s[r].m(n.parentNode,n))}for(;r<s.length;r+=1)s[r].d(1);s.length=e.length,!e.length&&a?a.p(t,o):e.length?a&&(a.d(1),a=null):(a=R(t),a.c(),a.m(n.parentNode,n))}},d(t){_(s,t),t&&g(n),a&&a.d(t)}}}function z(t){let n,e;return n=new C({props:{$$slots:{default:[q]},$$scope:{ctx:t}}}),{c(){s(n.$$.fragment)},l(t){a(n.$$.fragment,t)},m(t,s){o(n,t,s),e=!0},p(t,[e]){const s={};16387&e&&(s.$$scope={dirty:e,ctx:t}),n.$set(s)},i(t){e||(r(n.$$.fragment,t),e=!0)},o(t){c(n.$$.fragment,t),e=!1},d(t){l(n,t)}}}function D(t,n,e){let s,a,o,r,c;i(t,O,(t=>e(4,s=t))),i(t,N,(t=>e(7,r=t))),i(t,E,(t=>e(8,c=t)));var l=this&&this.__awaiter||function(t,n,e,s){return new(e||(e=Promise))((function(a,o){function r(t){try{l(s.next(t))}catch(n){o(n)}}function c(t){try{l(s.throw(t))}catch(n){o(n)}}function l(t){var n;t.done?a(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(r,c)}l((s=s.apply(t,n||[])).next())}))};let f=[];u(E,c=[],c);const h="destination"===r.params.endpoint?A:L;i(t,h,(t=>e(1,a=t)));const m="destination"===r.params.endpoint?L:A;i(t,m,(t=>e(5,o=t)));return t.$$.update=()=>{2&t.$$.dirty&&function(t){return l(this,void 0,void 0,(function*(){const n=yield fetch("/api/places?search="+t);return yield n.json()}))}(a.name).then((t=>e(0,f=t))),51&t.$$.dirty&&("Current location"===o.name||a.name||f.length&&"Current location"===f[0].name||e(0,f=[s,...f]))},[f,a,h,m,s,o,t=>u(h,a=t,a)]}class F extends t{constructor(t){super(),n(this,t,D,z,e,{})}}export{F as default};
