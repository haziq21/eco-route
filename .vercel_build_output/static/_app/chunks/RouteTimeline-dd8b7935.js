import{S as t,i as e,s,l as a,f as n,e as o,t as l,k as i,c as r,a as c,g as d,d as h,n as u,b as f,V as m,W as g,E as p,h as b,I as v,X as w,T as j,N as I,Y as k,K as x,Z as y}from"./vendor-d0016f91.js";import{g as R}from"./navigation-51f4a605.js";import{s as E}from"./_stores-e4befa5b.js";import{p as N}from"./stores-e132606c.js";function V(t,e,s){const a=t.slice();return a[7]=e[s],a}function D(t){let e,s,a,v,w,j=(t[7].modeIdentity||"walk")+"";return{c(){e=o("div"),s=o("span"),a=l(j),v=i(),this.h()},l(t){e=r(t,"DIV",{class:!0,style:!0});var n=c(e);s=r(n,"SPAN",{class:!0});var o=c(s);a=d(o,j),o.forEach(h),v=u(n),n.forEach(h),this.h()},h(){f(s,"class","label svelte-hwjbxe"),f(e,"class",w="segment "+t[7].mode+" "+t[7].modeIdentity+" svelte-hwjbxe"),m(e,"width",t[7].distance/t[0].distance*100+"%"),g(e,"border","/route-details"===t[3].path)},m(t,o){n(t,e,o),p(e,s),p(s,a),p(e,v)},p(t,s){1&s&&j!==(j=(t[7].modeIdentity||"walk")+"")&&b(a,j),1&s&&w!==(w="segment "+t[7].mode+" "+t[7].modeIdentity+" svelte-hwjbxe")&&f(e,"class",w),1&s&&m(e,"width",t[7].distance/t[0].distance*100+"%"),9&s&&g(e,"border","/route-details"===t[3].path)},d(t){t&&h(e)}}}function S(t){let e,s=t[7].distance/t[0].distance*t[2]>=5&&D(t);return{c(){s&&s.c(),e=a()},l(t){s&&s.l(t),e=a()},m(t,a){s&&s.m(t,a),n(t,e,a)},p(t,a){t[7].distance/t[0].distance*t[2]>=5?s?s.p(t,a):(s=D(t),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null)},d(t){s&&s.d(t),t&&h(e)}}}function W(t){let e,s,a,l,i=t[0].segments,d=[];for(let n=0;n<i.length;n+=1)d[n]=S(V(t,i,n));return{c(){e=o("div");for(let t=0;t<d.length;t+=1)d[t].c();this.h()},l(t){e=r(t,"DIV",{class:!0,style:!0});var s=c(e);for(let e=0;e<d.length;e+=1)d[e].l(s);s.forEach(h),this.h()},h(){f(e,"class","route svelte-hwjbxe"),m(e,"width",t[0].distance/t[1]*100+"%"),v((()=>t[5].call(e))),g(e,"thicker","/route-details"===t[3].path)},m(o,i){n(o,e,i);for(let t=0;t<d.length;t+=1)d[t].m(e,null);s=w(e,t[5].bind(e)),a||(l=j(e,"click",t[4]),a=!0)},p(t,[s]){if(13&s){let a;for(i=t[0].segments,a=0;a<i.length;a+=1){const n=V(t,i,a);d[a]?d[a].p(n,s):(d[a]=S(n),d[a].c(),d[a].m(e,null))}for(;a<d.length;a+=1)d[a].d(1);d.length=i.length}3&s&&m(e,"width",t[0].distance/t[1]*100+"%"),8&s&&g(e,"thicker","/route-details"===t[3].path)},i:I,o:I,d(t){t&&h(e),k(d,t),s(),a=!1,l()}}}function $(t,e,s){let a,n;x(t,E,(t=>s(6,a=t))),x(t,N,(t=>s(3,n=t)));let o,{route:l}=e,{longestRoute:i=l.distance}=e;return t.$$set=t=>{"route"in t&&s(0,l=t.route),"longestRoute"in t&&s(1,i=t.longestRoute)},[l,i,o,n,function(){y(E,a=l,a),R("route-details")},function(){o=this.offsetWidth,s(2,o)}]}class A extends t{constructor(t){super(),e(this,t,$,W,s,{route:0,longestRoute:1})}}export{A as R};
